(function($){var form=$(".form-req-estimate"),target=null,index=null,first_tel=$("input[name='tel-first']"),mid_tel=$("input[name='tel-mid']"),end_tel=$("input[name='tel-end']");first_tel.bind("keyup keydown",digitInput);mid_tel.bind("keyup keydown",digitInput);end_tel.bind("keyup keydown",digitInput);function digitInput(){$(this).val($(this).val().replace(/[^0-9]/g,""))}$(".jp_submit_estimate").bind("click",function(e){e.preventDefault();if($(this).hasClass("js-jp-active")){alert("양식을 제출중입니다. 잠시만 기다려 주세요.");return}index=$(this).attr("data-pos");console.info(index);target=form.eq(index);if(validateFormEstimate(target)){console.log("전송 시도중입니다.");$(this).addClass("js-jp-active");$(".jp-sig-sending").removeClass("blind")}});function validateFormEstimate(form_el){if(form_el.find(".jp-customer-name").val().trim()===""){alert("이름을 입력해 주세요.");form_el.find(".jp-customer-name").focus();return false}if(form_el.find("input[name='tel-mid']").length>0){if(form_el.find("input[name='tel-mid']").val().trim()===""){alert("연락처를 입력해 주세요.");form_el.find("input[name='tel-mid']").focus();return false}if(form_el.find("input[name='tel-end']").val().trim()===""){alert("연락처를 입력해 주세요.");form_el.find("input[name='tel-end']").focus();return false}}else{if(form_el.find("input[name='tel']").val().trim()===""||form_el.find("input[name='tel']").val().length<=4){alert("연락처를 입력해 주세요.");form_el.find("input[name='tel']").focus();return false}}if(form_el.find(".jp-addr-01").val().trim()===""){alert("배송지를 입력해 주세요.");form_el.find(".jp-addr-01").focus();return false}if(form_el.find(".jp-addr-02").val().trim()===""){alert("배송지 상세 정보를 입력해 주세요.");form_el.find(".jp-addr-02").focus();return false}if(!form_el.find("#jp-agree-privacy").prop("checked")){alert("개인정보수집 및 약관동의 / 마케팅 활용 동의에 체크해 주세요.");form_el.find("#agreement").focus();return false}form_el.submit();return true}function checkReferrer(){return document.referrer}$(window).bind("load",function(){$(".jp-hidden-referrer").val(checkReferrer())});$(".close-window-m").bind("click",function(e){e.preventDefault();closeMe()});$(".close-window-pc").bind("click",function(e){e.preventDefault();closeMe()});function closeMe(){window.close()}function autoHypenPhone(str){str=str.replace(/[^0-9]/g,"");var tmp="";if(str.length<4){return str}else if(str.length<7){tmp+=str.substr(0,3);tmp+="-";tmp+=str.substr(3);return tmp}else if(str.length<11){tmp+=str.substr(0,3);tmp+="-";tmp+=str.substr(3,3);tmp+="-";tmp+=str.substr(6);return tmp}else{tmp+=str.substr(0,3);tmp+="-";tmp+=str.substr(3,4);tmp+="-";tmp+=str.substr(7);return tmp}return str}function applyPhoneNumberEvent(){var val=$(this).val().trim();$(this).val(autoHypenPhone(val))}$('input[type="tel"]').bind("keydown keyup",applyPhoneNumberEvent);function moveAction(){var _top=$("#submission").offset().top-100;$("html, body").stop().animate({scrollTop:_top+"px"},500)}function goTop(){$("html, body").stop().animate({scrollTop:0},500)}$(window).bind("load resize",function(){var leftWing=$(".sw-btn-request-side");if(leftWing.length===0){return}var _win_width=getWindowWidth();if(_win_width>1200){leftWing.css("right",0)}else{leftWing.css("right","-100%")}});window.moveAction=moveAction;window.goTop=goTop})(jQuery);function sample4_execDaumPostcode(){new daum.Postcode({oncomplete:function(data){var roadAddr=data.roadAddress;var extraRoadAddr="";if(data.bname!==""&&/[동|로|가]$/g.test(data.bname)){extraRoadAddr+=data.bname}if(data.buildingName!==""&&data.apartment==="Y"){extraRoadAddr+=extraRoadAddr!==""?", "+data.buildingName:data.buildingName}if(extraRoadAddr!==""){extraRoadAddr=" ("+extraRoadAddr+")"}document.getElementById("sample4_postcode").value=data.zonecode;document.getElementById("sample4_roadAddress").value=roadAddr;document.getElementById("sample4_jibunAddress").value=data.jibunAddress;if(roadAddr!==""){document.getElementById("sample4_extraAddress").value=extraRoadAddr}else{document.getElementById("sample4_extraAddress").value=""}var guideTextBox=document.getElementById("guide");if(data.autoRoadAddress){var expRoadAddr=data.autoRoadAddress+extraRoadAddr;guideTextBox.innerHTML="(예상 도로명 주소 : "+expRoadAddr+")";guideTextBox.style.display="block"}else if(data.autoJibunAddress){var expJibunAddr=data.autoJibunAddress;guideTextBox.innerHTML="(예상 지번 주소 : "+expJibunAddr+")";guideTextBox.style.display="block"}else{guideTextBox.innerHTML="";guideTextBox.style.display="none"}}}).open()}